<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport"  content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Practica PLA3_s5: Com programar la llei de cookies amb javascript</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" >
<style>

#boxBook {
    background-color: bisque;
    height: 100px;
    width: 300px;
}

</style>

<body>

    <div id="boxBook">
        
    </div>

    <button id="btnBook">Carregar</button>

<script type="text/javascript">

    var xhr;
    document.getElementById("btnBook").onclick = function() {
        //Crear instancia de l'objecte XMLHttpRequest sobre la variable xhr
        if (window.XMLHttpRequest) { // Mozilla, Safari, ...
            http_request = new XMLHttpRequest();
        } else if (window.ActiveXObject) { // IE
            xhr = new ActiveXObject("Microsoft.XMLHTTP");
        }
        //Definir la funció de callBack()
        xhr.onreadystatechange = function() {
            if (xhr.readyState == 4 && xhr.status == 200) {
                //tot va bé, s'ha rebut la resposta
                var objBook=JSON.parse(xhr.responseText);
            } else if (xhr.readyState == 4 && xhr.status == 404) {
                alert ('Ho sentim el servidor sembla que no es troba disponible');
            }
        };
        //Definir els parametres de sol·licituds HTTP
        xhr.open('GET','http://http://localhost/web-code-academy/pla-3/json/book.json',true);
        //Iniciem la sol·licitud
        xhr.send(null);
    }

</script>

</body>
</html>