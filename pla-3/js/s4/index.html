<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Practica B</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/reset.css" />
    <link rel="stylesheet" type="text/css" href="css/register.css" /> 

    <!-- Link de Bootstrap -->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" >

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

  </head>
  <body>
      <!-- #Content -->
      <div id="content"> 
        <form action="#" method="get" onsubmit="">
          <fieldset>
            <legend>Datos personales</legend>
            <div class="personal-flex-box">
              <div class="flex-item">
                <div class="field-label">Nombre</div>
                <input class="form-control is-valid" type="text" name="nombre" value=""/>
                <div class="invalid-feeback position-absolute">
                  Por favor introduzca su nombre sin números.
                </div>
              </div>
              <div class="flex-item flex-grow-2" >
                <div class="field-label">Apellidos</div>
                <input class="form-control is-valid" type="text" name="apellidos"/>
                <div class="invalid-feeback position-absolute">
                  Por favor introduzca su apellido sin números.
                </div>
              </div>
              <div class="flex-item">
                <div class="field-label">Fecha naciemineto</div>
                <input type="text" name="fnacimeinto"  placeholder="dd/mm/yyyy"/>
              </div>
              <div class="flex-item" >

              <!--------- radio --------->
                <div class="field-label">Genero</div>
                <div class="radio-flex-box position-relative">

                  <!-- radio.male -->
                  <span class="form-flex-box position-static">
                    <input class="form-check-input is-invalid" type="radio" name="genero" value="male" />
                    <label class="form-check-label">Hombre</label>
                    <!-- .invalid-feedback -->
                    <span class="invalid-feedback position-absolute">
                      Por favor, seleecione una opción
                    </span>
                  </span>

                  <!-- radio.female -->
                  <span>
                    <input class="form-check-input is-invalid" type="radio" name="genero" value="female" />
                    <label class="form-check-label">Mujer</label>
                  </span>

                  <!-- radio.other -->
                  <span>
                    <input class="form-check-input is-invalid" type="radio" name="genero" value="other" />
                    <label class="form-check-label">Otros</label>
                  </span>

                </div>
              </div>
            </div>
          </fieldset>
          <fieldset>
            <legend>Datos de contacto</legend>
            <div class="contacto-flex-box">
              <div class="flex-item">
                <div class="field-label">Email</div>
                <input type="text" name="email" />
              </div>
              <div class="flex-item">
                <div class="field-label">Telefono</div>
                <input type="text" name="telefono" />
              </div>
              <div class="flex-item flex-grow-2" >
                <div class="field-label">Pagina personal</div>
                <input type="text" name="ppersonal" />
              </div>
            </div>
              
          </fieldset>
          <fieldset>
            <legend>Conocimientos</legend>
            <div class="conocimientos-flex-box">
              <div class="flex-item flex-grow-2" >
                <div class="field-label">Lenguajes</div>
                <select multiple id="lista" name="lista" size="7">
                  <option value="Php">Php</option>
                  <option value="Phyton">Phyton</option>
                  <option value="Java">Java</option>
                  <option value="Jquery">JQuery</option>
                  <option value="net">.NET</option>
                </select>
              </div>
              <div class="flex-item" >
                <div class="controls-flex-box">
                  <button id="btn1" type="button" value=">"  onclick="seleccion(this,'lista','programacion');"  >&gt;</button>
                  <button id="btn2" type="button" value=">>" xonclick="seleccion(this,'lista','programacion');" >&gt;&gt;</button>
                  <button id="btn3" type="button" value="<"  xonclick="seleccion(this,'lista','programacion');"  >&lt;</button>
                  <button id="btn4" type="button" value="<<" xonclick="seleccion(this,'lista','programacion');" >&lt;&lt;</button>
                </div>
              </div>
              <div class="flex-item flex-grow-2" >
                <div class="field-label">Lenguajes</div>
                <select multiple id="programacion" name="programacion" size="7"></select>
              </div>
            </div>
              
          </fieldset>
          <fieldset>
            <div class="submit-flex-box">
              <div class="flex-item">
                <input id="btnForm" type="submit" value="Enviar datos" />
              </div>
            </div>
          </fieldset>
        </form>
      </div>

<script type="text/javascript">

/*

  // ------------------ IN ------------------

  document.getElementById("btn1").onclick=function() {
    var objLlista = document.getElementById('lista');
    for (var i=0; i<objLlista.options.length; i++) {
      if (objLlista.options[i].selected==true) {
        document.getElementById('programacion').appendChild(objLlista.options[i]);
        i--;
      }
    }
  }

  document.getElementById("btn2").onclick=function() {
    var objLlista = document.getElementById('lista');
    for (var i=0; i<objLlista.options.length; i++) {
      document.getElementById('programacion').appendChild(objLlista.options[i]);
      i--;
    }
  }

  // ------------------ OUT ------------------

  document.getElementById("btn3").onclick=function() {
    var objLlista = document.getElementById('programacion');
    for (var i=0; i<objLlista.options.length; i++) {
      if (objLlista.options[i].selected==true) {
        document.getElementById('lista').appendChild(objLlista.options[i]);
        i--;
      }
    }
  }

  document.getElementById("btn4").onclick=function() {
    var objLlista = document.getElementById('programacion');
    for (var i=0; i<objLlista.options.length; i++) {
      document.getElementById('lista').appendChild(objLlista.options[i]);
      i--;
    }
  }

*/

  // ------------------ switch ------------------

  function seleccion(objButton,IdOrigen,IdDestino) {

    var objLlistaOrigen = document.getElementById(IdOrigen); //'lista'
    var objListaDestino = document.getElementById(IdDestino); //'programacio'

    switch(objButton.value) {

      case '>':
        for (var i=0; i<objLlistaOrigen.options.length; i++) {
          if (objLlistaOrigen.options[i].selected==true) {
            objListaDestino.appendChild(objLlistaOrigen.options[i]);
              i--;
          }
        }
        break;

      case '>>':
        for (var i=0; i<objLlistaOrigen.options.length; i++) {
          objListaDestino.appendChild(objLlistaOrigen.options[i]);
            i--;
        }
        break;

      case '<':
        for (var i=0; i<objListaDestino.options.length; i++) {
        if (objListaDestino.options[i].selected==true) {
          objLlistaOrigen.appendChild(objListaDestino.options[i]);
            i--;
        }
      }
      break;

      case '<<':
        for (var i=0; i<objListaDestino.options.length; i++) {
          objLlistaOrigen.appendChild(objListaDestino.options[i]);
          i--;
      }
      break;

    }
  }

</script>

<script type="text/javascript">

  // event onclick <input type="submit">

  document.getElementById("btnForm").onclick = function(evt) {
    // aturar event (submit)
    evt.prevent.Default();
    // var tot Ok controld e enviament
    var totOk = true;

    // -- netejar class = "is invalid" o class="is-valid" --------------
    this.form.querySelectorAll("*").forEach(function(el) {
      el.className = el.className.replace(/(is-invalid!is-valid)/g,'');
    });


    // -------------- validació input[name=nombre] --------------
    this.form.nombre.value = this.form.nombre.value.trim();
    var strNombrePattern=/\d/g;
    var strNombre=this.form.nombre.value;

    if (strNombrePattern.test(strNombre) || strNombre=="") {
      this.form.nombre.className+="is-invalid";
      totOk = false;
    } else {
      this.form.nombre.className+="is-valid";
    }

    // -------------- validació input[name=apellidos] --------------
    this.form.apellidos.value = this.form.apellidos.value.trim();
    var strNombrePattern=/\d/g;
    var strNombre=this.form.nombre.value;

    if (strNombrePattern.test(strNombre) || strNombre=="") {
      this.form.nombre.className+="is-invalid";
      totOk = false;
    } else {
      this.form.nombre.className+="is-valid";
    }


    // -------------- Prosseguir el submit --------------
    if (totOk==true) {
      this.form.submit(); //Disparar l'event submit del form
      //o be enviar les addes via AJAX
    }

  }

</script>

  </body>
</html>

